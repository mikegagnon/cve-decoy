class LevelSelector {
    constructor(gameData) {
        this.gameData = gameData;
    }

    run() {
        const html = [];
        for (const [clusterName, entries] of Object.entries(this.gameData)) {
            console.log(entries);
            //console.log(`${clusterName}: ${entries.length}`);
            html.push(`<div>`);
            html.push(`<h2>Cluster &ldquo;${clusterName}&rdquo;</h2>`);
            html.push(`<ol>`);
            for (const entry of entries) {
                const cve = entry.id;
                const param = `${clusterName}_${cve}`
                const limitedOptionCount = entry.limitedOptionCount;
                const numOptions = entry.numOptions;
                const link = `<a href="game.html?${param}">${cve}</a>, ${numOptions} mutations`;
                html.push(`<li>${link}</li>`)
            }
            //const div = `<div>${divContents}</div>`;
            html.push(`</ol>`);
            html.push(`</div>`)
        }
        const compiledHtml = html.join("\n");
        $("#level-selector").html(compiledHtml);
    }
}

const LEVEL_SELECTOR = new LevelSelector(GAMEDATA);
LEVEL_SELECTOR.run();

